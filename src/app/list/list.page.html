<ion-header no-border>

  <ion-toolbar>
    <ion-buttons slot="end">
      <ion-button id="icon" (click)="wishlist()">
        <ion-icon slot="icon-only" name="heart"></ion-icon>
        <p id="number">{{myWish}}</p>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="start">
      <ion-button id="icon" (click)="goBack()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>

  </ion-toolbar>
  <!-- <ion-toolbar color="primary">
      <ion-button (click)="logout()" slot="end">Logout</ion-button>
      <ion-title>
        Broken Stool
      </ion-title>
    </ion-toolbar> -->
</ion-header>

<ion-content fullscreen>
  <div [ngClass]="{'loader': loaderAnimate, 'loader-hide': !loaderAnimate}">
    <div class="maploader">
      <div class="lds-ellipsis">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
      <p style="color:white; text-align: center;">{{loaderMessages}}</p>
    </div>
    <!--  <div class="loading-text">
          <p>Loading Map</p>
        </div> -->
  </div>

  <div class="container">
    <div class="top">
      <div class="pagename">
        <h1 style="text-transform: uppercase; letter-spacing: 2px;"><b>{{collectionName}}</b></h1>
      </div>
      <div class="itemcount">
        <div class="items" *ngIf="collectionName!=='sales'">
          <p>{{myProduct.length}} item(s)</p>
        </div>
        <div class="items" *ngIf="collectionName==='sales'">
          <p>{{promo.length}} item(s)</p>
        </div>
        <div class="filter">

          <p (click)="reviewed()" style="opacity: 0.5;">Filter</p>
        </div>

        <div class="filter" *ngIf="collectionName==='sales'">

          <ion-select placeholder="Filter ASC" [(ngModel)]="sortSale" (ionChange)="sortSales()">
            <ion-select-option value="name">Name</ion-select-option>
            <ion-select-option value="discount">Discount</ion-select-option>
            <ion-select-option value="saleprice">Price</ion-select-option>
          </ion-select>
        </div>
      </div>
    </div>
    <div class="cards" *ngIf="collectionName!=='sales'">
      <div class="card" *ngFor="let p of myProduct, let i=index">
        <img src="{{p.info.pictureLink}}" (click)="viewitem(p.id, p.info)">
        <div class="itemdetails">
          <div class="name">
            <p>{{p.info.name}} <br> <span>{{p.info.price | currency:'R'}}</span></p>
          </div>
          <div id="icon">

            <ion-icon slot="end" name="heart-empty" (click)="wishList(p.id, p.info)"></ion-icon>
          </div>
          <!-- [ngClass]="{'sizeStyle':heartIndex==i}" -->

        </div>
      </div>

    </div>
    <div class="cards" *ngIf="collectionName==='sales'">
      <div class="card" *ngFor="let s of promo">
        <img src="{{s.info.pictureLink}}" (click)="viewitem(s.id, s.info)">
        <div class="itemdetails">
          <div class="name">
            <p>{{s.info.name}} <br> <span>{{s.info.saleprice | currency:'R'}}</span></p>
          </div>
          <div id="icon">

            <ion-icon slot="end" name="heart-empty" (click)="wishListSale(s.id, s.info)"></ion-icon>
          </div>
          <!-- [ngClass]="{'sizeStyle':heartIndex==i}" -->

        </div>
      </div>

    </div>



    <div [ngClass]="{'viewreviews': viewReviews, 'closereviews': !viewReviews}">

      <div class="heading">
        <p>Filter Items By:</p>

        <ion-icon slot="icon-only" name="close" (click)="reviewed()"></ion-icon>

      </div>
      <div class="line"></div>

      <div class="filtering">
        <ul>
          <li (click)="filtered()" class="type">Colour

            <ul *ngIf="viewFilter" (click)="colorOpt($event)">
              <li>Red</li>
              <li>Blue</li>
              <li>Orange</li>
              <li>Green</li>
              <li>Purple</li>
            </ul>
          </li>
          <li (click)="filtered()" class="type">Price
            <ul *ngIf="viewFilter">
              <ion-item >
              <ion-range pin="true" min="0" max="1000" step="10" color="secondary" [(ngModel)]="price" (ionChange)="setPriceRange(price)">
                <ion-label slot="start">{{price | currency:'R'}}</ion-label>
                <ion-label slot="end">{{1000 | currency:'R'}}</ion-label>
              </ion-range>
            </ion-item>
            </ul>
            
           <!--  <ul  >
              <li>0 - R199</li>
              <li>R200 - R499</li>
              <li>R500 - R799</li>
              <li>R800 - R999</li>

            </ul> -->
          </li>
         <!--  <li (click)="filtered()" class="type">Item Type
            <ul *ngIf="viewFilter">
              <li>Hoodies</li>
              <li>Crop-Tops</li>
              <li>Sweaters</li>
              <li>Beanies</li>
              <li>Tracksuits</li>
            </ul>
          </li> -->
          <!-- <li (click)="filtered()" class="type">Gender
            <ul *ngIf="viewFilter">
              <li>Male</li>
              <li>Female</li>
           
            </ul>
          </li> -->
        </ul>
      </div>


    </div>

    <!-- <ion-button (click)="reviewed()">
       view
      </ion-button> -->

  </div>


</ion-content>