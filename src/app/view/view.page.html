<ion-header no-border id="nav">
  <ion-toolbar>
    <ion-buttons slot="start">
      <div class="icon1">

        <ion-button id="icon" href="https://broken-stool.firebaseapp.com/home/Terms%20and%20Privacy%20Policy">
          Terms and Privacy Policy
        </ion-button>

        <ion-button id="icon" href="https://broken-stool.firebaseapp.com/home/Disclaimer">
          Disclaimer
        </ion-button>

        <ion-button id="icon" href="https://broken-stool.firebaseapp.com/home/FAQs">
          FAQs
        </ion-button>

        <ion-button id="icon" href="https://broken-stool.firebaseapp.com/home/Payment%20Process">
          Payment Process
        </ion-button>

        <ion-button id="icon" href="https://broken-stool.firebaseapp.com/home/About%20Company">
          About Us
        </ion-button>


      </div>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button id="rate" (click)="presentPopover($event)">
        <ion-icon slot="start" name="star"></ion-icon> Rate This Product
      </ion-button>
    </ion-buttons>
    <!-- <ion-title style="font-family: 'Poiret One'; font-size: 20px; letter-spacing: 2px;">DankieJesu</ion-title> -->
  </ion-toolbar>
</ion-header>


<ion-header no-border id="mobile">
  <ion-toolbar>
    <ion-buttons slot="start" (click)="goBack()" *ngIf="cordova">
      <ion-icon slot="start" id="icon" name="arrow-back"></ion-icon>
    </ion-buttons>
    <ion-buttons slot="primary">
      <ion-button id="rate" (click)="presentPopover($event)">
        <ion-icon slot="start" name="star"></ion-icon> Rate This Product
      </ion-button>
    </ion-buttons>
    <!-- <ion-title style="font-family: 'Poiret One'; font-size: 20px; letter-spacing: 2px;">DankieJesu</ion-title> -->
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  
  <div class="container" *ngIf="col!=='Specials'">
    <div class="image" *ngFor="let prod of unitProduct">
      <img src="{{prod.data.pictureLink}}">

      <div class="iteminfo">
        <div class="itemname">
          <ionic4-star-rating #rating activeIcon="ios-star" defaultIcon="ios-star-outline" activeColor="#ff0000"
            defaultColor="#aaaaaa" readonly="true" rating="{{myRate}}">
          </ionic4-star-rating>

          <div class="appname" style="line-height: 20px; font-weight: normal;">
            <p><b> {{prod.data.name}}</b> <br> By Dankie Jesu</p>
          </div>
        </div>

        <div class="price">
          <p>{{prod.data.price  | currency:'R' }}</p>
        </div>
      </div>


    </div>

    <div class="productinfo" *ngFor="let prod of unitProduct">
      <div class="add">
        <ion-fab-button color="transparent" (click)="toBusket()">
          <ion-icon name="basket"></ion-icon>

        </ion-fab-button>
      </div>
      <div class="about">
        <p><b>About Product</b></p>
        <p>{{prod.data.description}}</p>
      </div>
      <div class="sizes">
        <p>Available sizes</p>

        <ion-button *ngFor="let size of prod.data.size;let i=index" (click)="sizeChosen(size, i)" color="transparent"
          [ngClass]="{'sizeStyle':sizeIndex==i}">
          {{size}}
        </ion-button>

      </div>
      <div class="colours">
        <p>Colours</p>
        <!--  <ion-item *ngFor="let c of prod.data.color; let i=index" style="background: whitesmoke; border-radius: 6px;">
          <ion-label>{{c}}</ion-label>
          <ion-checkbox (ionChange)="onBoolChenged(c,i)"></ion-checkbox>
        </ion-item> -->
        <ion-button *ngFor="let c of prod.data.color; let i=index" style="background: whitesmoke; border-radius: 6px;"
          (click)="colorChosen(c, i)" color="transparent" [ngClass]="{'colorStyle':colorIndex==i}">
          <p style="color: rgb(146, 146, 146);">{{c}}</p>
        </ion-button>
        <!-- <ion-button (click)="onClick()" color="transparent" style="background: blue; border-radius: 6px;">
        </ion-button>
        <ion-button (click)="onClick()" color="transparent" style="background: green; border-radius: 6px;">
        </ion-button>
        <ion-button (click)="onClick()" color="transparent" style="background: red; border-radius: 6px;">
        </ion-button> -->
      </div>
      <div class="quantity">
        <p>Quantity</p>
        <ion-button (click)="minus()" color="transparent" style="background: rgb(212, 212, 212);
         color: maroon;
         border-top-left-radius: 7px;
         border-bottom-left-radius: 7px;">
          <ion-icon name="remove"></ion-icon>
        </ion-button>
        <ion-button color="transparent" style="background: rgb(212, 250, 255);">
          {{quantity}}
        </ion-button>
        <ion-button (click)="plus()" color="transparent" style="background: rgb(212, 212, 212); 
        color: maroon;
         border-top-right-radius: 7px;
         border-bottom-right-radius: 7px;">
          <ion-icon name="add"></ion-icon>
        </ion-button>
      </div>
      <div class="shipping">
        <p><b>Shipping Information</b></p>
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
          industry's standard dummy text ever since the 1500s, when an unknown</p>
      </div>
      <br>
      <div class="delivery">
        <p><b>Delivery Information</b></p>
        <p>Items are available for pick up at the following Address</p>
        <p>123 Orlando East<br>
          SOWETO<br>
          1804
        </p>
      </div>

      <div class="buttonz">
        <ion-button (click)="addToCart(prod.id, prod.data)" color="transparent">
          <ion-icon slot="start" name="basket"></ion-icon> Add to basket <ion-icon name="bookmark" id="book"
            style="color: maroon; font-size: 8vw;position: relative; bottom: 13px;"></ion-icon>
          {{prod.data.price * quantity | currency:'R'  }}
        </ion-button>
      </div>
    </div>
  </div>



  <div class="container" *ngIf="col==='Specials'">
    <div class="image" *ngFor="let prod of mySale">
      <img src="{{prod.data.pictureLink}}">
      <div class="iteminfo">
        <div class="itemname">
          <ionic4-star-rating #rating activeIcon="ios-star" defaultIcon="ios-star-outline" activeColor="#ff0000"
            defaultColor="#aaaaaa" readonly="true" rating="{{myRate}}">
          </ionic4-star-rating>

          <div class="appname" style="line-height: 20px; font-weight: normal;">
            <p><b> {{prod.data.name}}</b> <br> By Dankie Jesu</p>
          </div>
        </div>

        <div class="price">
          <p style="text-decoration: line-through; font-size: 20px">{{prod.data.normalPrice | currency:'R'  }} </p>
          <p style="font-size: 20px; color: maroon">{{prod.data.saleprice  | currency:'R' }}</p>
        </div>
      </div>


    </div>

    <div class="productinfo" *ngFor="let prod of mySale">
      <div class="add">
        <ion-fab-button color="transparent" (click)="toBusket()">
          <ion-icon name="basket"></ion-icon>

        </ion-fab-button>
      </div>
      <div class="about">
        <p><b>About Product</b></p>
        <p>{{prod.data.description}}</p>
      </div>
      <div class="sizes">
        <p>Available sizes</p>

        <ion-button *ngFor="let size of prod.data.size;let i=index" (click)="sizeChosen(size, i)" color="transparent"
          [ngClass]="{'sizeStyle':sizeIndex==i}">
          {{size}}
        </ion-button>

      </div>
      <div class="colours">
        <p>Colours</p>
        <ion-button *ngFor="let c of prod.data.color; let i=index" style="background: whitesmoke; border-radius: 6px;"
          (click)="colorChosen(c, i)" color="transparent" [ngClass]="{'colorStyle':colorIndex==i}">
          <p style="color: rgb(146, 146, 146);">{{c}}</p>
        </ion-button>

      </div>
      <div class="quantity">
        <p>Quantity</p>
        <ion-button (click)="minus()" color="transparent" style="background: rgb(212, 212, 212);
         color: maroon;
         border-top-left-radius: 7px;
         border-bottom-left-radius: 7px;">
          <ion-icon name="remove"></ion-icon>
        </ion-button>
        <ion-button color="transparent" style="background: rgb(212, 250, 255);">
          {{quantity}}
        </ion-button>
        <ion-button (click)="plus()" color="transparent" style="background: rgb(212, 212, 212); 
        color: maroon;
         border-top-right-radius: 7px;
         border-bottom-right-radius: 7px;">
          <ion-icon name="add"></ion-icon>
        </ion-button>
      </div>
      <div class="shipping">
        <p><b>Shipping Information</b></p>
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
          industry's standard dummy text ever since the 1500s, when an unknown</p>
      </div>
      <br>
      <div class="delivery">
        <p><b>Delivery Information</b></p>
        <p>Items are available for pick up at the following Address</p>
        <p>123 Orlando East<br>
          SOWETO<br>
          1804
        </p>
      </div>

      <div class="buttonz">
        <ion-button (click)="addSaleToCart(prod.id, prod.data)" color="transparent">
          <ion-icon slot="start" name="basket"></ion-icon> Add to basket <ion-icon name="bookmark" id="book"
            style="color: maroon; font-size: 8vw;position: relative; bottom: 13px;"></ion-icon>
          {{prod.data.saleprice * quantity | currency:'R'  }}
        </ion-button>
      </div>
    </div>
  </div>



  <div class="web_view" *ngIf="col!=='Specials'">
    <div class="image" *ngFor="let prod of unitProduct">
      <img src="{{prod.data.pictureLink}}">

      <div class="iteminfo">
        <div class="itemname">
          <ionic4-star-rating #rating activeIcon="ios-star" defaultIcon="ios-star-outline" activeColor="#ff0000"
            defaultColor="#aaaaaa" readonly="true" rating="{{myRate}}">
          </ionic4-star-rating>

          <div class="appname" style="line-height: 20px; font-weight: normal;">
            <p><b> {{prod.data.name}}</b> <br> By Dankie Jesu</p>
          </div>
        </div>

        <div class="price">
          <p>{{prod.data.price  | currency:'R' }}</p>
        </div>
      </div>


    </div>

    <div class="productinfo" *ngFor="let prod of unitProduct">

      <div class="about">
        <p><b>About Product</b></p>
        <p>{{prod.data.description}}</p>
      </div>
      <div class="sizes">
        <p>Available sizes</p>

        <ion-button *ngFor="let size of prod.data.size;let i=index" (click)="sizeChosen(size, i)" color="transparent"
          [ngClass]="{'sizeStyle':sizeIndex==i}">
          {{size}}
        </ion-button>

      </div>
      <div class="colours">
        <p>Colours</p>
        <ion-button *ngFor="let c of prod.data.color; let i=index" style="background: whitesmoke; border-radius: 6px;"
          (click)="colorChosen(c, i)" color="transparent" [ngClass]="{'colorStyle':colorIndex==i}">
          <p style="color: rgb(146, 146, 146);">{{c}}</p>
        </ion-button>

      </div>
      <div class="quantity">
        <p>Quantity</p>
        <ion-button (click)="minus()" color="transparent" style="background: rgb(212, 212, 212);
         color: maroon;
         border-top-left-radius: 7px;
         border-bottom-left-radius: 7px;">
          <ion-icon name="remove"></ion-icon>
        </ion-button>
        <ion-button color="transparent" style="background: rgb(212, 250, 255);">
          {{quantity}}
        </ion-button>
        <ion-button (click)="plus()" color="transparent" style="background: rgb(212, 212, 212); 
        color: maroon;
         border-top-right-radius: 7px;
         border-bottom-right-radius: 7px;">
          <ion-icon name="add"></ion-icon>
        </ion-button>
      </div>
      <div class="shipping">
        <p><b>Shipping Information</b></p>
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.
          Lorem Ipsum has been the
          industry's standard dummy text ever since the 1500s, when an unknown</p>
      </div>
      <br>
      <div class="delivery">
        <p><b>Delivery Information</b></p>
        <p>Items are available for pick up at the following Address</p>
        <p>123 Orlando East<br>
          SOWETO<br>
          1804
        </p>
      </div>

      <div class="buttonz">
        <!-- <div class="add">
          <ion-fab-button color="transparent" (click)="gotocart()">
            <ion-icon name="basket"></ion-icon>
          </ion-fab-button>
        </div> -->

        <ion-button (click)="addToCart(prod.id, prod.data)" color="transparent">
          <ion-icon slot="start" name="basket"></ion-icon> Add to basket <ion-icon name="bookmark" id="book"
            style="color: maroon; position: relative; bottom: 13px;"></ion-icon>
          {{prod.data.price * quantity | currency:'R'  }}
        </ion-button>

        <div class="add">
          <ion-button (click)="gotocart()" color="transparent" style="background: rgb(5, 5, 29); width: 10vw">
            Go To Cart
          </ion-button>
          <!-- <ion-fab-button color="transparent" (click)="gotocart()">
            <ion-icon name="basket"></ion-icon>

          </ion-fab-button> -->
        </div>
      </div>
    </div>
  </div>

  <div class="web_view" *ngIf="col==='Specials'">
    <div class="image" *ngFor="let prod of mySale">
      <img src="{{prod.data.pictureLink}}">

      <div class="iteminfo">
        <div class="itemname">
          <ionic4-star-rating #rating activeIcon="ios-star" defaultIcon="ios-star-outline" activeColor="#ff0000"
            defaultColor="#aaaaaa" readonly="true" rating="{{myRate}}">
          </ionic4-star-rating>

          <div class="appname" style="line-height: 20px; font-weight: normal;">
            <p><b> {{prod.data.name}}</b> <br> By Dankie Jesu</p>
          </div>
        </div>

        <div class="price">
          <p style="text-decoration: line-through; font-size: 20px">{{prod.data.normalPrice  | currency:'R' }} </p>
          <p style="font-size: 20px; color: maroon">{{prod.data.saleprice  | currency:'R' }}</p>
        </div>
      </div>


    </div>

    <div class="productinfo" *ngFor="let prod of mySale">

      <div class="about">
        <p><b>About Product</b></p>
        <p>{{prod.data.description}}</p>
      </div>
      <div class="sizes">
        <p>Available sizes</p>

        <ion-button *ngFor="let size of prod.data.size;let i=index" (click)="sizeChosen(size, i)" color="transparent"
          [ngClass]="{'sizeStyle':sizeIndex==i}">
          {{size}}
        </ion-button>

      </div>
      <div class="colours">
        <p>Colours</p>
        <ion-button *ngFor="let c of prod.data.color; let i=index" style="background: whitesmoke; border-radius: 6px;"
          (click)="colorChosen(c, i)" color="transparent" [ngClass]="{'colorStyle':colorIndex==i}">
          <p style="color: rgb(146, 146, 146);">{{c}}</p>
        </ion-button>
   
      </div>
      <div class="quantity">
        <p>Quantity</p>
        <ion-button (click)="minus()" color="transparent" style="background: rgb(212, 212, 212);
         color: maroon;
         border-top-left-radius: 7px;
         border-bottom-left-radius: 7px;">
          <ion-icon name="remove"></ion-icon>
        </ion-button>
        <ion-button color="transparent" style="background: rgb(212, 250, 255);">
          {{quantity}}
        </ion-button>
        <ion-button (click)="plus()" color="transparent" style="background: rgb(212, 212, 212); 
        color: maroon;
         border-top-right-radius: 7px;
         border-bottom-right-radius: 7px;">
          <ion-icon name="add"></ion-icon>
        </ion-button>
      </div>
      <div class="shipping">
        <p><b>Shipping Information</b></p>
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
          industry's standard dummy text ever since the 1500s, when an unknown</p>
      </div>
      <br>
      <div class="delivery">
        <p><b>Delivery Information</b></p>
        <p>Items are available for pick up at the following Address</p>
        <p>123 Orlando East<br>
          SOWETO<br>
          1804
        </p>
      </div>

      <div class="buttonz">

        <div class="add">

          <ion-button (click)="addSaleToCart(prod.id, prod.data)" color="transparent">
            <ion-icon slot="start" name="basket"></ion-icon> Add to basket <ion-icon name="bookmark" id="book"
              style="color: maroon; font-size: 30px; position: relative; bottom: 13px;"></ion-icon>
            {{prod.data.saleprice * quantity | currency:'R'}}
          </ion-button>

          <ion-button (click)="gotocart()" color="transparent" style="background: rgb(0, 0, 37); width: 10vw">
            Go To Basket
          </ion-button>
          <!-- <ion-fab-button color="transparent" (click)="gotocart()" vertical="bottom">
            <ion-icon name="basket"></ion-icon>

          </ion-fab-button> -->
        </div>



      </div>
    </div>
  </div>

  <div class="backdrop1" *ngIf="viewBackdrop"></div>

  <div id="cart" [ngClass]="{'viewcart': viewCart, 'closecart': !viewCart}">

    <div class="heading">
      <p>Basket({{prodCart.length}})</p>

      <ion-icon slot="icon-only" name="close" (click)="gotocart()"></ion-icon>

    </div>


    <div class="wishlist_items">
      <div class="div">


        <div class="items" *ngFor="let c of prodCart; let i of index">
          <div class="left" *ngFor="let p of c.data.product">
            <div class="img">
              <img src="{{p.picture}}" alt="">
            </div>

            <div class="item_details">
              <p> <b>{{p.product_name}} &nbsp; {{p.cost | currency:'R'}}</b><br>
                size: {{p.size}} &nbsp; color: {{p.color}} <br>
                jan 23, 2020</p>

              <p>
                <ion-icon slot="start" name="remove-circle-outline" (click)="minuss(p, i)"></ion-icon>
                {{p.quantity}} <ion-icon slot="end" name="add-circle-outline" (click)="pluss(p, i)"></ion-icon>
              </p>

            </div>
          </div>

          <div class="right">
            <div class="trash_icon" (click)="removeProd(c.id)">
              <ion-icon slot="start" name="trash"></ion-icon>
            </div>


          </div>
        </div>

        <div class="items" id="noItems" *ngIf="prodCart.length === 0">
          <p>Basket Empty</p>
          <img src="../../assets/empty-cart.svg" alt="">
        </div>


        <div class="add_to_basket">

          <div class="delivery_options">
            <ion-button (click)="switchView('d')" color="transparent"
              [ngClass]="{'delivery':buttonActive, 'delivery-inactive': !buttonActive}">
              Delivery
            </ion-button>
            <ion-button (click)="switchView('c')"color="transparent"
              [ngClass]="{'collection': !buttonActive, 'collection-inactive': buttonActive}">
              Collection
            </ion-button>
          </div>
          <p style="width: 100%; text-align: right; font-size: 13px;" *ngIf="!delType"><i>Cart Total -
              {{getTotal() | currency:'R'}}</i></p>
          <p *ngIf="delType==='Delivery'" style="width: 100%; text-align: right; font-size: 13px;"><i>Cart Total -
              {{Delivery(getTotal()) | currency:'R'}} Incl delivery</i></p>
          <p *ngIf="delType==='Collection'" style="width: 100%; text-align: right; font-size: 13px;"><i>Cart Total -
              {{notDelivery(getTotal()) | currency:'R'}} Excl delivery</i></p>
          <ion-button color="transparent" [disabled]="prodCart.length==0" (click)="presentAlertConfirm()">
            PLACE ORDER
          </ion-button>
        </div>

      </div>

    </div>
  </div>

  <ion-footer id="webview">
    <div class="footer">
      <div class="heading">
        <!-- <h1>Dankie Jesu</h1> -->
        <img src="../../assets/NoPath - Copy.svg" alt="">
      </div>

      <div class="contact_details">
        <h1>CONTACT US</h1>
        <p>(011) 954-7865</p>
        <p>081 123 4566</p>
        <p class="address">123 Motswaledi Street <br>
          Diepkloof Ext 3 <br>
          SOWETO <br>
          1805</p>
      </div>

      <div class="info">
        <h1>INFO</h1>
        <ion-button href="https://broken-stool.firebaseapp.com/home/FAQs" color="transparent">
          <span>FAQs</span>
        </ion-button>
        <ion-button href="https://broken-stool.firebaseapp.com/home/Terms%20and%20Privacy%20Policy" color="transparent">
          <span>Terms and Privacy Policy</span>
        </ion-button>
        <ion-button href="https://broken-stool.firebaseapp.com/home/Disclaimer" color="transparent">
          <span>Disclaimer</span>
        </ion-button>
        <ion-button href="https://broken-stool.firebaseapp.com/home/Payment%20Process" color="transparent">
          <span>Payment Process</span>
        </ion-button>
        <ion-button href="https://broken-stool.firebaseapp.com/home/About%20Company" color="transparent">
          <span>Developers</span>
        </ion-button>
      </div>

      <div class="connect">
        <h1>CONNECT</h1>
        <ion-button href="https://www.facebook.com/brokenstoolbrand/" color="transparent">
          <ion-icon slot="start" name="logo-facebook"></ion-icon>
          Facebook
        </ion-button>
        <ion-button href="https://www.instagram.com/dankiejesu/" color="transparent">
          <ion-icon slot="start" name="logo-instagram"></ion-icon>
          Instagram
        </ion-button>
      </div>

      <div class="app_store">
        <img src="../../assets/android.png" alt="App Store">
      </div>
    </div>
  </ion-footer>

</ion-content>